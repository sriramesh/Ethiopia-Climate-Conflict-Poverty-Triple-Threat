"0",""
"0","# define choropleth color palette for legend using values from other leaflet plots"
"0","bins <- c(0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, Inf)"
"0","pal <- colorBin(palette_climate_change, domain = shp$index_mean, bins = bins)"
"0",""
"0","# basemap"
"0","m <- basemap %>% addPolygons(data=shp,"
"0","                             color = ""none"","
"0","                             weight = 2,"
"0","                             fillOpacity = 0.2)"
"0","# add ETH Adm 1 regions"
"0","m <- m %>%"
"0","  addPolygons(data=shp,"
"0","              fillColor = ~pal(shp$index_mean),"
"0","              stroke = TRUE,"
"0","              color = ""grey"","
"0","              weight=1,"
"0","              dashArray = """","
"0","              fillOpacity = 0.35,"
"0","              highlight = highlightOptions("
"0","                weight = 3,"
"0","                color = ""#666"","
"0","                dashArray = """","
"0","                fillOpacity = 1,"
"0","                bringToFront = TRUE),"
"0","              label = shp$index_mean,"
"0","              labelOptions = labelOptions("
"0","                style = list(""font-weight"" = ""normal"", padding = ""3px 8px""),"
"0","                textsize = ""15px"","
"0","                direction = ""auto""))"
"0",""
"0","# add legend"
"0","m <- m %>% addLegend(pal = pal,"
"0","                     values = shp$index_mean,"
"0","                     title = ""Simplified PDSI - Mean"","
"0","                     position = ""topright"")"
"0","m"
